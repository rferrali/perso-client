<div class="container">
  <app-section-header>
    <span><h3>Software</h3></span>
    <app-crud-buttons object="software" [mode]="mode" (modeSelect)="modeSelect($event)"></app-crud-buttons>
  </app-section-header>
  <div class="row mb-3">
    <div class="col">

      <div *ngIf="mode != 'sort'; else sortBlock">
        <div *ngFor="let software of softwares" class="mt-1">
          <app-software [object]="software" [mode]="mode" [edittedId]="edittedId"
            (edit)="onEdit($event)" (delete)="onDeleteEvent($event)"></app-software>
        </div>
        <div *ngIf="mode == 'create'" class="mt-1">
          <app-software [mode]="mode" [edittedId]="edittedId"
          (edit)="onEdit($event)" (delete)="onDeleteEvent($event)" new></app-software>
        </div>
      </div>

      <ng-template #sortBlock>
        <bs-sortable [(ngModel)]="softwares" [itemTemplate]="itemTemplate" itemClass="sortable-item mt-1"
          itemActiveClass="sortable-item-active" placeholderItem="" placeholderClass="placeholderStyle"
          wrapperClass="sortable-wrapper list-group">
        </bs-sortable>
        <ng-template #itemTemplate let-item="item" let-index="index">
          <app-software [object]="item.value" [edittedId]="edittedId">
          </app-software>
        </ng-template>
      </ng-template>


    </div>
  </div>
</div>